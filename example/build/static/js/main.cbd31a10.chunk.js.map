{"version":3,"sources":["../../webauthn/client/base64url.js","../../webauthn/client/index.js","../../webauthn/client/Client.js","App.js","index.js"],"names":["chars","lookup","Uint8Array","base64url_i","length","charCodeAt","base64url_lib","lib","Object","classCallCheck","this","createClass","key","value","arraybuffer","i","bytes","len","base64url","substring","base64string","encoded1","encoded2","encoded3","encoded4","bufferLength","p","buffer","window","client","Client","options","arguments","undefined","assign","pathPrefix","_getMakeCredentialsChallenge","asyncToGenerator","regenerator_default","a","mark","_callee","formBody","response","failureMessage","wrap","_context","prev","next","fetch","concat","method","credentials","headers","Content-Type","body","JSON","stringify","sent","status","json","message","Error","abrupt","stop","_x","apply","_sendWebAuthnResponse","_callee2","_context2","_x2","_getGetAssertionChallenge","_callee3","_context3","_x3","_register","_callee4","data","challenge","publicKey","credential","credentialResponse","_args4","_context4","getMakeCredentialsChallenge","preformatMakeCredReq","navigator","create","console","log","publicKeyCredentialToJSON","sendWebAuthnResponse","t0","error","_login","_callee5","_args5","_context5","getGetAssertionChallenge","preformatGetAssertReq","get","_logout","_callee6","_context6","pubKeyCred","Array","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","push","err","return","ArrayBuffer","encode","obj","buf","crypto","getRandomValues","makeCredReq","decode","user","id","getAssert","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","allowCredentials","allowCred","App","_useState","useState","_useState2","slicedToArray","name","setName","_useState3","_useState4","username","setUsername","_useState5","webauthn","react_default","createElement","Container","Row","style","paddingTop","Col","Form","Group","Label","Control","type","onChange","e","target","Text","className","Button","variant","onClick","register","login","block","logout","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cbd31a10.chunk.js","sourcesContent":["import _classCallCheck from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/* global define */\n\n/*\n * Base64URL-ArrayBuffer\n * https://github.com/herrjemand/Base64URL-ArrayBuffer\n *\n * Copyright (c) 2017 Yuriy Ackermann <ackermann.yuriy@gmail.com>\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n *\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'; // Use a lookup table to find the index.\n\nvar lookup = new Uint8Array(256);\n\nfor (var i = 0; i < chars.length; i++) {\n  lookup[chars.charCodeAt(i)] = i;\n}\n\nvar lib =\n/*#__PURE__*/\nfunction () {\n  function lib() {\n    _classCallCheck(this, lib);\n  }\n\n  _createClass(lib, null, [{\n    key: \"encode\",\n    value: function encode(arraybuffer) {\n      var bytes = new Uint8Array(arraybuffer),\n          i,\n          len = bytes.length,\n          base64url = '';\n\n      for (i = 0; i < len; i += 3) {\n        base64url += chars[bytes[i] >> 2];\n        base64url += chars[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64url += chars[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64url += chars[bytes[i + 2] & 63];\n      }\n\n      if (len % 3 === 2) {\n        base64url = base64url.substring(0, base64url.length - 1);\n      } else if (len % 3 === 1) {\n        base64url = base64url.substring(0, base64url.length - 2);\n      }\n\n      return base64url;\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(base64string) {\n      var bufferLength = base64string.length * 0.75,\n          len = base64string.length,\n          i,\n          p = 0,\n          encoded1,\n          encoded2,\n          encoded3,\n          encoded4;\n      var bytes = new Uint8Array(bufferLength);\n\n      for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64string.charCodeAt(i)];\n        encoded2 = lookup[base64string.charCodeAt(i + 1)];\n        encoded3 = lookup[base64string.charCodeAt(i + 2)];\n        encoded4 = lookup[base64string.charCodeAt(i + 3)];\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n      }\n\n      return bytes.buffer;\n    }\n  }]);\n\n  return lib;\n}();\n\nwindow.base64url = lib;\nexport default lib;","'use strict';\n/**\n * Module Dependencies\n * @ignore\n */\n\nimport Client from './Client';\n/**\n * Re-Exports\n * @ignore\n */\n\nexport default Client;","import _regeneratorRuntime from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/glinklater/Documents/Github/strangerlabs/webauthn-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/**\n * Dependencies\n * @ignore\n */\n\n/**\n * Module Dependencies\n * @ignore\n */\nimport base64url from './base64url';\n/**\n * Client\n * @ignore\n */\n\nvar Client =\n/*#__PURE__*/\nfunction () {\n  function Client() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Client);\n\n    var defaults = {\n      pathPrefix: '/webauthn'\n    };\n    Object.assign(this, defaults, options);\n  }\n\n  _createClass(Client, [{\n    key: \"getMakeCredentialsChallenge\",\n    value: function () {\n      var _getMakeCredentialsChallenge = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(formBody) {\n        var response, failureMessage, errorMessage;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(this.pathPrefix, \"/register\"), {\n                  method: 'POST',\n                  credentials: 'include',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(formBody)\n                });\n\n              case 2:\n                response = _context.sent;\n\n                if (!(response.status === 403)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                failureMessage = _context.sent.message;\n                errorMessage = 'Registration failed';\n                throw new Error(failureMessage ? \"\".concat(errorMessage, \": \").concat(failureMessage, \".\") : \"\".concat(errorMessage, \".\"));\n\n              case 9:\n                if (!(response.status < 200 || response.status > 205)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                throw new Error('Server responded with error.');\n\n              case 11:\n                _context.next = 13;\n                return response.json();\n\n              case 13:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getMakeCredentialsChallenge(_x) {\n        return _getMakeCredentialsChallenge.apply(this, arguments);\n      }\n\n      return getMakeCredentialsChallenge;\n    }()\n  }, {\n    key: \"sendWebAuthnResponse\",\n    value: function () {\n      var _sendWebAuthnResponse = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(body) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"\".concat(this.pathPrefix, \"/response\"), {\n                  method: 'POST',\n                  credentials: 'include',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(body)\n                });\n\n              case 2:\n                response = _context2.sent;\n\n                if (!(response.status !== 200)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new Error('Server responded with error.');\n\n              case 5:\n                _context2.next = 7;\n                return response.json();\n\n              case 7:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function sendWebAuthnResponse(_x2) {\n        return _sendWebAuthnResponse.apply(this, arguments);\n      }\n\n      return sendWebAuthnResponse;\n    }()\n  }, {\n    key: \"getGetAssertionChallenge\",\n    value: function () {\n      var _getGetAssertionChallenge = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(formBody) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch(\"\".concat(this.pathPrefix, \"/login\"), {\n                  method: 'POST',\n                  credentials: 'include',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(formBody)\n                });\n\n              case 2:\n                response = _context3.sent;\n\n                if (!(response.status !== 200)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error('Server responded with error.');\n\n              case 5:\n                _context3.next = 7;\n                return response.json();\n\n              case 7:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getGetAssertionChallenge(_x3) {\n        return _getGetAssertionChallenge.apply(this, arguments);\n      }\n\n      return getGetAssertionChallenge;\n    }()\n  }, {\n    key: \"register\",\n    value: function () {\n      var _register = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var data,\n            challenge,\n            publicKey,\n            credential,\n            credentialResponse,\n            _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                data = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {};\n                _context4.prev = 1;\n                _context4.next = 4;\n                return this.getMakeCredentialsChallenge(data);\n\n              case 4:\n                challenge = _context4.sent;\n                publicKey = Client.preformatMakeCredReq(challenge);\n                _context4.next = 8;\n                return navigator.credentials.create({\n                  publicKey: publicKey\n                });\n\n              case 8:\n                credential = _context4.sent;\n                console.log('CREDENTIAL', credential);\n                credentialResponse = Client.publicKeyCredentialToJSON(credential);\n                _context4.next = 13;\n                return this.sendWebAuthnResponse(credentialResponse);\n\n              case 13:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 16:\n                _context4.prev = 16;\n                _context4.t0 = _context4[\"catch\"](1);\n                console.error(_context4.t0);\n\n              case 19:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[1, 16]]);\n      }));\n\n      function register() {\n        return _register.apply(this, arguments);\n      }\n\n      return register;\n    }()\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var data,\n            challenge,\n            publicKey,\n            credential,\n            credentialResponse,\n            _args5 = arguments;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                data = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {};\n                _context5.prev = 1;\n                _context5.next = 4;\n                return this.getGetAssertionChallenge(data);\n\n              case 4:\n                challenge = _context5.sent;\n                publicKey = Client.preformatGetAssertReq(challenge);\n                _context5.next = 8;\n                return navigator.credentials.get({\n                  publicKey: publicKey\n                });\n\n              case 8:\n                credential = _context5.sent;\n                console.log('CREDENTIAL', credential);\n                credentialResponse = Client.publicKeyCredentialToJSON(credential);\n                _context5.next = 13;\n                return this.sendWebAuthnResponse(credentialResponse);\n\n              case 13:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 16:\n                _context5.prev = 16;\n                _context5.t0 = _context5[\"catch\"](1);\n                console.error(_context5.t0);\n\n              case 19:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[1, 16]]);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return fetch(\"\".concat(this.pathPrefix, \"/logout\"), {\n                  method: 'GET',\n                  credentials: 'include'\n                });\n\n              case 2:\n                response = _context6.sent;\n\n                if (!(response.status !== 200)) {\n                  _context6.next = 5;\n                  break;\n                }\n\n                throw new Error('Server responded with error.');\n\n              case 5:\n                _context6.next = 7;\n                return response.json();\n\n              case 7:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }], [{\n    key: \"publicKeyCredentialToJSON\",\n    value: function publicKeyCredentialToJSON(pubKeyCred) {\n      if (pubKeyCred instanceof Array) {\n        var arr = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = pubKeyCred[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n            arr.push(Client.publicKeyCredentialToJSON(i));\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return arr;\n      }\n\n      if (pubKeyCred instanceof ArrayBuffer) {\n        return base64url.encode(pubKeyCred);\n      }\n\n      if (pubKeyCred instanceof Object) {\n        var obj = {};\n\n        for (var key in pubKeyCred) {\n          obj[key] = Client.publicKeyCredentialToJSON(pubKeyCred[key]);\n        }\n\n        return obj;\n      }\n\n      return pubKeyCred;\n    }\n  }, {\n    key: \"generateRandomBuffer\",\n    value: function generateRandomBuffer(len) {\n      var buf = new Uint8Array(len || 32);\n      window.crypto.getRandomValues(buf);\n      return buf;\n    }\n  }, {\n    key: \"preformatMakeCredReq\",\n    value: function preformatMakeCredReq(makeCredReq) {\n      makeCredReq.challenge = base64url.decode(makeCredReq.challenge);\n      makeCredReq.user.id = base64url.decode(makeCredReq.user.id);\n      return makeCredReq;\n    }\n  }, {\n    key: \"preformatGetAssertReq\",\n    value: function preformatGetAssertReq(getAssert) {\n      getAssert.challenge = base64url.decode(getAssert.challenge);\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = getAssert.allowCredentials[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var allowCred = _step2.value;\n          allowCred.id = base64url.decode(allowCred.id);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return getAssert;\n    }\n  }]);\n\n  return Client;\n}();\n/**\n * Exports\n * @ignore\n */\n\n\nexport default Client;","\n/**\n * Dependencies\n * @ignore\n */\nimport React, { useState } from 'react'\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap'\nimport Client from 'webauthn/client'\n\n/**\n * Module Dependencies\n * @ignore\n */\n\n/**\n * App\n * @ignore\n */\nfunction App () {\n  const [name, setName] = useState('')\n  const [username, setUsername] = useState('')\n  const [webauthn] = useState(new Client())\n\n  function onRegister () {\n    webauthn.register({ name, username })\n  }\n\n  function onLogin () {\n    webauthn.login({ username })\n  }\n\n  function onLogout () {\n    webauthn.logout()\n  }\n\n  return (\n    <Container>\n      <Row style={{ paddingTop: 80 }}>\n        <Col>\n          <h3>Register</h3>\n          <Form>\n            <Form.Group>\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={username}\n                onChange={e => setUsername(e.target.value)}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Name</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n              ></Form.Control>\n              <Form.Text className=\"text-muted\">This name will be displayed publicly.</Form.Text>\n            </Form.Group>\n            <Button variant=\"primary\" onClick={onRegister}>\n              Register\n            </Button>\n          </Form>\n        </Col>\n        <Col>\n          <h3>Login</h3>\n          <Form>\n            <Form.Group>\n              <Form.Label>Username</Form.Label>\n              <Form.Control type=\"text\" value={username} onChange={e => setUsername(e.target.value)}></Form.Control>\n            </Form.Group>\n            <Button variant=\"primary\" onClick={onLogin}>\n              Login\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n      <Row style={{ paddingTop: 80 }}>\n        <Col>\n          <Button variant=\"outline-primary\" block onClick={onLogout}>\n            Logout\n          </Button>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\n/**\n * Exports\n * @ignore\n */\nexport default App;\n","\n/**\n * Dependencies\n * @ignore\n */\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\n/**\n * Mount React App\n * @ignore\n */\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}